webpackJsonp([4],{36:function(t,e,o){"use strict";o(37),o(4);var s=document.getElementById("btn-auth"),n=document.querySelector(".welcome__box"),r=document.querySelector(".form__button--back");null!=s&&s.addEventListener("click",function(t){t.preventDefault(),n.classList.toggle("welcome__box--active"),s.classList.toggle("btn--invisibility")}),null!=r&&r.addEventListener("click",function(t){t.preventDefault(),n.classList.toggle("welcome__box--active"),s.classList.toggle("btn--invisibility")})},37:function(t,e,o){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}var n=s(o(1)),r=s(o(2)),i=s(o(8)),c={data:function(){return{errors:[],login:"scherbacovAdmin",password:"scherbacov1993",noRobot:null,robot:null,success:!1,unsuccess:!1}},methods:{loginUser:function(t){var e=this;r.default.post("http://webdev-api.loftschool.com/login",t).then(function(t){console.log(t),200===t.status&&(i.default.setTokenTtl(t),window.location.href="./admin")},function(t){console.log(t.response.data.error),e.errors.push(t.response.data.error),e.unsuccess=!0,setTimeout(function(){e.unsuccess=!1},2e3)}).catch(function(t){console.error(t)})},checkForm:function(){return this.errors=[],!(!(this.login&&this.password&&this.noRobot&&"yes"===this.robot)&&(this.login||this.errors.push("Требуется указать логин."),this.password||this.errors.push("Укажите пароль."),this.noRobot||this.errors.push("Уточните, что вы человек."),"yes"!==this.robot&&this.errors.push("Подвердите, что вы человек."),this.errors.length>0))},validField:function(t){t.target.classList.remove("form__input-text--error")},invalidField:function(t){t.target.classList.add("form__input-text--error")},sendForm:function(t){var e=this;if(this.url=t.target.action,this.checkForm()){var o={name:this.login,password:this.password};this.loginUser(o)}else this.unsuccess=!0,setTimeout(function(){e.unsuccess=!1},2e3),console.log(this.errors)}},template:"#box-back"};new n.default({el:"#welcome-flipper",components:{welcomeFront:{template:"#box-front"},welcomeBack:c},data:{sideToShow:"welcomeFront"},template:"#welcome"}),new n.default({el:"#btn",methods:{flip:function(){}},template:"#btn-show"})},8:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s={setTokenTtl:function(t){var e=t.data.token,o=Math.floor(Date.now()/1e3+t.data.ttl);localStorage.setItem("token",e),localStorage.setItem("ttl",o)},dateView:function(t){return new Date(1e3*t).toLocaleDateString("ru",{year:"numeric",month:"long",day:"2-digit"})}};e.default=s}},[36]);